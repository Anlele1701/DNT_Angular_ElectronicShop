<body>
  <!-- TITLE -->
  <div class="box">
    <h2>QUẢN LÝ KHÁCH HÀNG</h2>
    <form asp-action="Index" method="get">
      <input
        type="text"
        placeholder="Tìm kiếm tên khách hàng"
        class="searchBox form-control"
        [(ngModel)]="searchTerm"
        name="searchTerm"
        (input)="onSearch()"
      />
    </form>
    <button
      class="btnCreate btn btn-dark"
      (click)="popUpCreateKH('300ms', '300ms')"
    >
      Thêm khách hàng mới
    </button>
  </div>
  <div class="box mt-3">
    <div style="position: relative">
      <h3 class="text-center">Danh Sách Khách Hàng</h3>
      <button
        class="btn btn-dark"
        style="position: absolute; right: 20px; top: 3px"
      >
        Xuất Excel
      </button>
    </div>
    <div class="box mt-3" id="listBox">
      <div class="fixTableHead">
        <table
          class="table table-striped table-hover table-bordered text-center"
        >
          <thead>
            <tr>
              <th>Số Thứ Tự</th>
              <th>Họ Tên KH</th>
              <th>Số Điện Thoại</th>
              <th>Điển Tích Lũy</th>
              <th>Hạng Thành Viên</th>
              <th>Hành Động</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of customerList$ | async; let i = index">
              <td>{{ [i + 1] }}</td>
              <td>{{ item.hoTen }}</td>
              <td>{{ item.sdt }}</td>
              <td>{{ item.diem }}</td>
              <td>{{ item.hangThanhVien }}</td>
              <td>
                <button
                  type="button"
                  class="btn btn-outline-primary me-3"
                  (click)="popUpCusDetail('300ms', '300ms', item._id)"
                >
                  <i class="fa-solid fa-circle-info"></i> Xem Chi Tiết
                </button>
                <button
                  type="button"
                  class="btn btn-outline-warning"
                  (click)="popUpEditCusInfo('300ms', '300ms', item._id)"
                >
                  <i class="fa-solid fa-square-pen"></i> Chỉnh Sửa
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
