<body>
  <!--Title Box -->
  <div class="box">
    <h2>QUẢN LÝ SẢN PHẨM</h2>
    <div>
      <input
        [(ngModel)]="searchTerm"
        (input)="onSearch()"
        class="searchBox form-control"
        placeholder="Tìm kiếm sản phẩm..."
      />
    </div>

    <button class="btnCreate btn btn-dark text-uppercase" (click)="openForm()">
      THÊM MỚI {{ nameProduct }}
    </button>
  </div>
  <!-- DANH SACH -->
  <div class="box mt-3">
    <div style="position: relative">
      <h3 class="text-center">Danh Sách Loại Sản phẩm</h3>
      <button
        class="btn btn-dark"
        style="position: absolute; right: 20px; top: 3px"
      >
        Xuất Excel
      </button>
    </div>
    <!-- List Table -->
    <div class="box mt-3" id="listBox">
      <div class="fixTableHead">
        <table
          class="table table-striped table-hover table-bordered text-center"
        >
          <thead>
            <tr>
              <th>Tên sản phẩm</th>
              <th>Loại sản phẩm</th>
              <th>Hình ảnh sản phẩm</th>
              <th>Số lượng</th>
              <th>Đơn giá</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of listProduct$ | async">
              <td>{{ item.tenSP }}</td>
              <td>{{ item.tenHang }}</td>
              <td>
                <img
                  src="http://localhost:3800/images/{{
                    item.hinhAnh[0].tenImageSP
                  }}"
                  style="height: 100px"
                />
              </td>
              <td>{{ item.soLuong }}</td>
              <td>{{ item.giaTien | currency : "VND" : "" }} VND</td>
              <td>
                <button type="button" class="btn btn-outline-primary">
                  <i class="fa-solid fa-circle-info"></i> Xem chi tiết
                </button>
                <button
                  type="button"
                  class="btn btn-outline-warning"
                  (click)="changeToEditProductPage(item._id)"
                >
                  <i class="fa-solid fa-square-pen"></i> Chỉnh sửa
                </button>
                <button
                  type="button"
                  class="btn btn-outline-danger"
                  (click)="deleteProduct(item._id, item.tenHang)"
                >
                  <i class="fa fa-trash"></i> Xóa sản phẩm
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
